{"version":3,"file":"component---src-pages-app-js-37c27039eb55416a79da.js","mappings":"iPAUA,EAPqB,SAAC,GAAiD,IAApCA,EAAmC,EAA9CC,UAAsBC,EAAwB,EAAxBA,SAAaC,GAAW,YACpE,OAAKC,EAAAA,EAAAA,OAAgB,eAAAF,EAASG,SAIvB,gBAACL,EAAcG,KAHpBG,EAAAA,EAAAA,UAAS,cACF,OCIX,EATgB,kBACd,gCACE,0CACA,0BACE,8DACA,+D,UCHAC,EAAAA,SAAAA,GAAAA,SAAAA,IAAAA,IAAAA,IAAAA,EAAAA,EAAAA,UAAAA,OAAAA,EAAAA,IAAAA,MAAAA,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,IAAAA,EAAAA,GAAAA,UAAAA,GAaH,OAbGA,EAAAA,EAAAA,KAAAA,MAAAA,EAAAA,CAAAA,MAAAA,OAAAA,KAAAA,MACJC,MAAQ,CACNC,SAAS,GACTC,SAAS,IAFH,EAIRC,aAAe,SAAAC,GAAU,IAAD,EACtB,EAAKC,WAAL,MACGD,EAAME,OAAOC,MAAOH,EAAME,OAAOE,MADpC,KAGD,EACDC,aAAe,SAAAL,GACbA,EAAMM,kBACNC,EAAAA,EAAAA,IAAY,EAAKX,QAClB,EA+BA,OA5CGD,EAAAA,EAAAA,GAAAA,EAAAA,GAaH,YACDa,OAAA,WAAU,IAAD,OAIP,OAHIhB,EAAAA,EAAAA,QACFE,EAAAA,EAAAA,UAAS,gBAGT,gCACE,oCACA,wBACEe,OAAO,OACPC,SAAU,SAAAV,GACR,EAAKK,aAAaL,IAClBN,EAAAA,EAAAA,UAAS,kBAGX,wCAEE,yBAAOiB,KAAK,OAAOR,KAAK,WAAWS,SAAUC,KAAKd,gBAEpD,wCAEE,yBACEY,KAAK,WACLR,KAAK,WACLS,SAAUC,KAAKd,gBAGnB,yBAAOY,KAAK,SAASP,MAAM,cAIlC,EA5CGT,CAAcmB,EAAAA,WA8CpB,ICnCA,EARY,kBACV,gBAAC,IAAD,KACE,gBAAC,EAAAC,OAAD,KACE,gBAAC,EAAD,CAAcC,KAAK,eAAe3B,UAAW4B,IAC7C,gBAAC,EAAD,CAAOD,KAAK,mB,sGCVX,IACME,EAAU,iBAD0B,oBAAXC,QAErBA,OAAOC,aAAaC,QAAQ,cACvCC,KAAKC,MAAMJ,OAAOC,aAAaC,QAAQ,eACvC,IACAG,EAAU,SAAAC,GAAI,OAClBN,OAAOC,aAAaM,QAAQ,aAAcJ,KAAKK,UAAUF,KAC9ClB,EAAc,SAAC,GAA4B,IAA1BV,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SACtC,MAAY,SAARD,GAA+B,SAARC,GAClB0B,EAAQ,CACb3B,SAAS,OACTM,KAAK,SACLyB,MAAM,wBAKCpC,EAAa,WAExB,QADa0B,IACCrB","sources":["webpack://oneclick/./src/components/privateRoute.js","webpack://oneclick/./src/components/profile.js","webpack://oneclick/./src/components/login.js","webpack://oneclick/./src/pages/app.js","webpack://oneclick/./src/services/auth.js"],"sourcesContent":["import React from \"react\"\nimport { navigate } from \"gatsby\"\nimport { isLoggedIn } from \"../services/auth\"\nconst PrivateRoute = ({ component: Component, location, ...rest }) => {\n  if (!isLoggedIn() && location.pathname !== `/app/login`) {\n    navigate(\"/app/login\")\n    return null\n  }\n  return <Component {...rest} />\n}\nexport default PrivateRoute","import React from \"react\"\nconst Profile = () => (\n  <>\n    <h1>Your profile</h1>\n    <ul>\n      <li>Name: Your name will appear here</li>\n      <li>E-mail: And here goes the mail</li>\n    </ul>\n  </>\n)\nexport default Profile","import React from \"react\"\nimport { navigate } from \"gatsby\"\nimport { handleLogin, isLoggedIn } from \"../services/auth\"\nclass Login extends React.Component {\n  state = {\n    username: ``,\n    password: ``,\n  }\n  handleUpdate = event => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    })\n  }\n  handleSubmit = event => {\n    event.preventDefault()\n    handleLogin(this.state)\n  }\n  render() {\n    if (isLoggedIn()) {\n      navigate(`/app/profile`)\n    }\n    return (\n      <>\n        <h1>Log in</h1>\n        <form\n          method=\"post\"\n          onSubmit={event => {\n            this.handleSubmit(event)\n            navigate(`/app/profile`)\n          }}\n        >\n          <label>\n            Username\n            <input type=\"text\" name=\"username\" onChange={this.handleUpdate} />\n          </label>\n          <label>\n            Password\n            <input\n              type=\"password\"\n              name=\"password\"\n              onChange={this.handleUpdate}\n            />\n          </label>\n          <input type=\"submit\" value=\"Log In\" />\n        </form>\n      </>\n    )\n  }\n}\nexport default Login","import React from \"react\"\nimport { Router } from \"@reach/router\"\nimport Layout from \"../components/layout\"\nimport PrivateRoute from \"../components/privateRoute\"\nimport Profile from \"../components/profile\"\nimport Login from \"../components/login\"\nconst App = () => (\n  <Layout>\n    <Router>\n      <PrivateRoute path=\"/app/profile\" component={Profile} />\n      <Login path=\"/app/login\" />\n    </Router>\n  </Layout>\n)\nexport default App","export const isBrowser = () => typeof window !== \"undefined\"\nexport const getUser = () =>\n  isBrowser() && window.localStorage.getItem(\"gatsbyUser\")\n    ? JSON.parse(window.localStorage.getItem(\"gatsbyUser\"))\n    : {}\nconst setUser = user =>\n  window.localStorage.setItem(\"gatsbyUser\", JSON.stringify(user))\nexport const handleLogin = ({ username, password }) => {\n  if (username === `john` && password === `pass`) {\n    return setUser({\n      username: `john`,\n      name: `Johnny`,\n      email: `johnny@example.org`,\n    })\n  }\n  return false\n}\nexport const isLoggedIn = () => {\n  const user = getUser()\n  return !!user.username\n}\nexport const logout = callback => {\n  setUser({})\n  callback()\n}"],"names":["Component","component","location","rest","isLoggedIn","pathname","navigate","Login","state","username","password","handleUpdate","event","setState","target","name","value","handleSubmit","preventDefault","handleLogin","render","method","onSubmit","type","onChange","this","React","Router","path","Profile","getUser","window","localStorage","getItem","JSON","parse","setUser","user","setItem","stringify","email"],"sourceRoot":""}