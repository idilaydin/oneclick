{"version":3,"file":"component---src-pages-app-js-76a407d939c18382e770.js","mappings":"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","sources":["webpack://oneclick/./src/components/nav-bar.js","webpack://oneclick/./src/components/layout.js","webpack://oneclick/./src/components/privateRoute.js","webpack://oneclick/./src/components/profile.js","webpack://oneclick/./src/components/login.js","webpack://oneclick/./src/pages/app.js","webpack://oneclick/./src/services/auth.js","webpack://oneclick/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["import React from \"react\"\nimport { Link, navigate } from \"gatsby\"\nimport { getUser, isLoggedIn, logout } from \"../services/auth\"\nexport default function NavBar() {\n  let greetingMessage = \"\"\n  if (isLoggedIn()) {\n    greetingMessage = `Hello ${getUser().name}`\n  } else {\n    greetingMessage = \"You are not logged in\"\n  }\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flex: \"1\",\n        justifyContent: \"space-between\",\n        borderBottom: \"1px solid #d1c1e0\",\n      }}\n    >\n      <span>{greetingMessage}</span>\n      <nav>\n        <Link to=\"/\">Home</Link>\n        {` `}\n        <Link to=\"/app/profile\">Profile</Link>\n        {` `}\n        {isLoggedIn() ? (\n          <a\n            href=\"/\"\n            onClick={event => {\n              event.preventDefault()\n              logout(() => navigate(`/app/login`))\n            }}\n          >\n            Logout\n          </a>\n        ) : null}\n      </nav>\n    </div>\n  )\n}","/**\n * Layout component that queries for data\n * with Gatsby's useStaticQuery component\n *\n * See: https://www.gatsbyjs.com/docs/use-static-query/\n */\n\nimport * as React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { useStaticQuery, graphql } from \"gatsby\"\n\n// import Header from \"./header\"\nimport NavBar from \"./nav-bar\"\n\nimport \"./layout.css\"\n\nconst Layout = ({ children }) => (\n  <>\n    <NavBar />\n    {children}\n  </>\n)\n\n/* \nconst Layout = ({ children }) => {\n\n\n  const data = useStaticQuery(graphql`\n    query SiteTitleQuery {\n      site {\n        siteMetadata {\n          title\n        }\n      }\n    }\n  `)\n\n  return (\n    <>\n      <Header siteTitle={data.site.siteMetadata?.title || `Title`} />\n      <div\n        style={{\n          margin: `0 auto`,\n          maxWidth: 960,\n          padding: `0 1.0875rem 1.45rem`,\n        }}\n      >\n        <main>{children}</main>\n        <footer\n          style={{\n            marginTop: `2rem`,\n          }}\n        >\n          Â© {new Date().getFullYear()}, Built with\n          {` `}\n          <a href=\"https://www.gatsbyjs.com\">Gatsby</a>\n        </footer>\n      </div>\n    </>\n  )\n}\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\n*/\n\nexport default Layout\n","import React from \"react\"\nimport { navigate } from \"gatsby\"\nimport { isLoggedIn } from \"../services/auth\"\nconst PrivateRoute = ({ component: Component, location, ...rest }) => {\n  if (!isLoggedIn() && location.pathname !== `/app/login`) {\n    navigate(\"/app/login\")\n    return null\n  }\n  return <Component {...rest} />\n}\nexport default PrivateRoute","import React from \"react\"\nimport { getUser } from \"../services/auth\"\nconst Profile = () => (\n  <>\n    <h1>Your profile</h1>\n    <ul>\n      <li>Name: {getUser().name}</li>\n      <li>E-mail: {getUser().email}</li>\n    </ul>\n  </>\n)\nexport default Profile","import React from \"react\"\nimport { navigate } from \"gatsby\"\nimport { handleLogin, isLoggedIn } from \"../services/auth\"\nclass Login extends React.Component {\n  state = {\n    username: ``,\n    password: ``,\n  }\n  handleUpdate = event => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    })\n  }\n  handleSubmit = event => {\n    event.preventDefault()\n    handleLogin(this.state)\n  }\n  render() {\n    if (isLoggedIn()) {\n      navigate(`/app/profile`)\n    }\n    return (\n      <>\n        <h1>Log in</h1>\n        <form\n          method=\"post\"\n          onSubmit={event => {\n            this.handleSubmit(event)\n            navigate(`/app/profile`)\n          }}\n        >\n          <label>\n            Username\n            <input type=\"text\" name=\"username\" onChange={this.handleUpdate} />\n          </label>\n          <label>\n            Password\n            <input\n              type=\"password\"\n              name=\"password\"\n              onChange={this.handleUpdate}\n            />\n          </label>\n          <input type=\"submit\" value=\"Log In\" />\n        </form>\n      </>\n    )\n  }\n}\nexport default Login","import React from \"react\"\nimport { Router } from \"@reach/router\"\nimport Layout from \"../components/layout\"\nimport PrivateRoute from \"../components/privateRoute\"\nimport Profile from \"../components/profile\"\nimport Login from \"../components/login\"\nconst App = () => (\n  <Layout>\n    <Router>\n      <PrivateRoute path=\"/app/profile\" component={Profile} />\n      <Login path=\"/app/login\" />\n    </Router>\n  </Layout>\n)\nexport default App","export const isBrowser = () => typeof window !== \"undefined\"\nexport const getUser = () =>\n  isBrowser() && window.localStorage.getItem(\"gatsbyUser\")\n    ? JSON.parse(window.localStorage.getItem(\"gatsbyUser\"))\n    : {}\nconst setUser = user =>\n  window.localStorage.setItem(\"gatsbyUser\", JSON.stringify(user))\nexport const handleLogin = ({ username, password }) => {\n  if (username === `idilaydin` && password === `idilaydin`) {\n    return setUser({\n      username: `idilaydin`,\n      name: `Idil`,\n      email: `hello@example.org`,\n    })\n  }\n  return false\n}\nexport const isLoggedIn = () => {\n  const user = getUser()\n  return !!user.username\n}\nexport const logout = callback => {\n  setUser({})\n  callback()\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}"],"names":["NavBar","greetingMessage","isLoggedIn","getUser","name","style","display","flex","justifyContent","borderBottom","Link","to","href","onClick","event","preventDefault","logout","navigate","children","Component","component","location","rest","pathname","email","Login","state","username","password","handleUpdate","setState","target","value","handleSubmit","handleLogin","render","method","onSubmit","type","onChange","this","React","Router","path","Profile","window","localStorage","getItem","JSON","parse","setUser","user","setItem","stringify","callback","_objectWithoutPropertiesLoose","source","excluded","key","i","sourceKeys","Object","keys","length","indexOf"],"sourceRoot":""}